"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[312],{3659:(v,u,r)=>{r.d(u,{C:()=>h});var e=r(4496);let h=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-no-items-found"]],decls:4,vars:0,consts:[[1,"no-items-found"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 -960 960 960","width","24px","fill","#5f6368"],["d","M200-800v241-1 400-640 200-200Zm80 400h140q9-23 22-43t30-37H280v80Zm0 160h127q-5-20-6.5-40t.5-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v100q-19-8-39-12.5t-41-6.5v-41H480v-200H200v640h241q16 24 36 44.5T521-80H200Zm460-120q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29ZM864-40 756-148q-21 14-45.5 21t-50.5 7q-75 0-127.5-52.5T480-300q0-75 52.5-127.5T660-480q75 0 127.5 52.5T840-300q0 26-7 50.5T812-204L920-96l-56 56Z"]],template:function(a,_){1&a&&(e.I0R(0,"div",0),e.S2Z(),e.I0R(1,"svg",1),e.wR5(2,"path",2),e.C$Y(),e.OEk(3," No items found\n"),e.C$Y())},styles:[".no-items-found[_ngcontent-%COMP%]{padding:20px;margin-top:20px;margin-bottom:20px;text-align:center;font-size:17px;color:#5f6368;gap:5px;display:flex;align-items:center;justify-content:center;width:100%}"]})}return i})()},4325:(v,u,r)=>{r.d(u,{i:()=>p});var e=r(4496),h=r(1368);function i(a,_){if(1&a&&(e.I0R(0,"th"),e.OEk(1),e.C$Y()),2&a){const g=_.$implicit;e.yG2(),e.cNF(g)}}function w(a,_){1&a&&(e.I0R(0,"tr",5),e.wR5(1,"td",6),e.C$Y())}let p=(()=>{class a{constructor(){this.ROWS_COUNT=["1","2","3","4","5","6","7","8","9","10"],this.headers=["driverId","name","vehicle","currentLocation","Phone"]}static#e=this.\u0275fac=function(m){return new(m||a)};static#t=this.\u0275cmp=e.In1({type:a,selectors:[["app-table-shimmer"]],inputs:{ROWS_COUNT:"ROWS_COUNT",headers:"headers"},decls:9,vars:1,consts:[[1,"shimmer-table"],[1,"row"],[1,"table_head"],[1,"table"],["class","placeholder-row",4,"ngFor","ngForOf"],[1,"placeholder-row"],[1,"placeholder"]],template:function(m,s){1&m&&(e.I0R(0,"section")(1,"div",0)(2,"div",1)(3,"thead",2),e.c53(4,i,2,1,"th",null,e.oxv),e.C$Y()(),e.I0R(6,"table",3)(7,"tbody"),e.yuY(8,w,2,0,"tr",4),e.C$Y()()()()),2&m&&(e.yG2(4),e.oho(s.headers),e.yG2(4),e.E7m("ngForOf",s.ROWS_COUNT))},dependencies:[h.ay],styles:["section[_ngcontent-%COMP%]{background:#fff;overflow-x:auto;border-style:solid;border-color:#fff;border-radius:20px;width:100%}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]{width:100%;border-bottom-left-radius:15px 20px 20px 20px;border-bottom-right-radius:20px;padding:0 0 10px}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;padding:20px}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .table_head[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .table_head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-transform:capitalize}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .placeholder-row[_ngcontent-%COMP%]{height:50px;width:100%}section[_ngcontent-%COMP%]   .shimmer-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .placeholder-row[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{height:100%;background:linear-gradient(to right,#f0f0f0 8%,#e0e0e0 18%,#f0f0f0 33%);background-size:1000px 100%;animation:_ngcontent-%COMP%_shimmer 2.5s infinite;margin:0 10px;width:100%;position:relative;border-radius:5px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}@media (max-width: 600px){.placeholder[_ngcontent-%COMP%]{width:96%}}@media (max-width: 400px){.placeholder[_ngcontent-%COMP%]{width:94%}}"]})}return a})()},5932:(v,u,r)=>{r.d(u,{QH:()=>m,UF:()=>_,WK:()=>g,oN:()=>p,wT:()=>w,yK:()=>a});var e=r(1368),h=r(7048),i=r(4496);let w=(()=>{class s{constructor(t,n){if(this.platformId=t,this.httpClient=n,this.PageSizing=10,this.storedToken="",this.admin_id=0,this.platformId=t,(0,e.c0)(t)){const o=localStorage.getItem("TICKET");this.storedToken=null!==o?o:"",this.admin_id=localStorage.getItem("admin_id")}}FORMAT_DATE_WITH_HOUR(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0,timeZone:"UTC"})}FORMAT_DATE_YYYYMMDD(t){return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`}truncateText(t,n){return t&&t.length>n?t.substring(0,n)+"...":t}GET_STATUS_CLASS(t,n,o,c){switch(t){case n:return"bg-light-warning mat-body-2 f-w-500 p-x-8 p-y-4 f-s-12 rounded-pill";case o:return"bg-light-success mat-body-2 f-w-500 p-x-8 p-y-4 f-s-12 rounded-pill";case c:return"bg-light-error mat-body-2 f-w-500 p-x-8 p-y-4 f-s-12 rounded-pill";default:return""}}GENERATE_SHIMMER_ROWS_COUNT(t){return Array.from({length:t},(n,o)=>(o+1).toString())}getData(t){this.httpClient.get(`https://api.dahertravellb.com/DaherTravel/api/${t}`,{responseType:"blob",observe:"response"}).subscribe(o=>{const c=o.headers.get("Content-Disposition"),l=o.headers.get("Content-Type")||"application/octet-stream",f=new Blob([o.body],{type:l}),d=document.createElement("a");d.href=window.URL.createObjectURL(f),d.download=this.getFileNameFromContentDisposition(c),document.body.appendChild(d),d.click(),document.body.removeChild(d)},o=>{console.error("HTTP Error:",o),console.error("Server error message:",o.error)})}getDataForReports(t,n){console.log("Request body:",n);const o=`https://api.dahertravellb.com/DaherTravel/api/${t}`,c=new h.UD({Authorization:`Bearer ${this.storedToken}`,"Content-Type":"application/json"});this.httpClient.post(o,n,{headers:c,responseType:"blob",observe:"response"}).subscribe(l=>{const f=l.headers.get("Content-Disposition"),d=l.headers.get("Content-Type")||"/octet-stream",b=new Blob([l.body],{type:d}),C=document.createElement("a");C.href=window.URL.createObjectURL(b),C.download=this.getFileNameFromContentDisposition1(f),document.body.appendChild(C),C.click(),document.body.removeChild(C)},l=>{console.error("HTTP Error:",l),console.error("Server error message:",l.error)})}getFileNameFromContentDisposition1(t){if(!t)return"downloaded-file";const n=/filename="([^"]+)"/.exec(t);return null!=n&&n[1]?n[1]:"downloaded-file"}getFileNameFromContentDisposition(t){if(!t)return"downloadedFile.xlsx";const o=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);return null!=o&&o[1]?o[1].replace(/['"]/g,""):"downloadedFile.xlsx"}static#e=this.\u0275fac=function(n){return new(n||s)(i.CoB(i.AHE),i.CoB(h.KK))};static#t=this.\u0275prov=i.wxM({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const p=[{value:"today",viewValue:"Today"},{value:"yesterday",viewValue:"Yesterday"},{value:"thisWeek",viewValue:"This Week"},{value:"thisMonth",viewValue:"This Month"},{value:"thisYear",viewValue:"This Year"},{value:"Calendar",viewValue:"Custom"}],a=[{value:"thisMonth",viewValue:"This Month"},{value:"lastMonth",viewValue:"Last Month"},{value:"last6Months",viewValue:"Last 6 Month"},{value:"thisYear",viewValue:"This Year"},{value:"custom",viewValue:"Custom"}],_=[{value:"",viewValue:"All"},{value:"canceled",viewValue:"Canceled"},{value:"completed",viewValue:"Completed"},{value:"pending",viewValue:"Pending"}],g=[{value:"PDF",viewValue:"PDF"},{value:"Excel",viewValue:"Excel"}],m=["All","Pack","Visa","Ticketing"]}}]);